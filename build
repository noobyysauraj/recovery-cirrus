#!/bin/bash
cd /tmp/rec
rm -rf .repo
source build/envsetup.sh
lunch omni_lancelot-eng #edit this
export SKIP_API_CHECKS=true ##use additional flags if you need(optional)
export SKIP_ABI_CHECKS=true ##use additional flags if you need(optional)
export ALLOW_MISSING_DEPENDENCIES=true ##use additional flags if you need(optional)
#necessary flags
export CCACHE_DIR=/tmp/ccache
export CCACHE_EXEC=$(which ccache)
export USE_CCACHE=1
ccache -M 50G
#ccache -o compression=true
ccache -z
ccache -c

mka recoveryimage

curl --upload-file ./out/target/product/lancelot/recovery.img https://transfer.sh/

echo "

Uploaded recovery.img
"  #edit this
curl --upload-file ./out/target/product/lancelot/SHRP_AddonRescue*zip https://transfer.sh/
echo "

uploaded Addon.zip"  #edit this
curl --upload-file ./out/target/product/lancelot/SHRP_v3.1_*zip https://transfer.sh/
echo "

Uploaded SHRP.zip
" #edit this
echo "

Uploaded All files successfully!"
